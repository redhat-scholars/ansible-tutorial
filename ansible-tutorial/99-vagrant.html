<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vagrant :: Ansible Tutorial</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/ansible-tutorial/ansible-tutorial/99-vagrant.html">
    <link rel="prev" href="04-roles.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://redhat-scholars.github.io/ansible-tutorial">Ansible Tutorial</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ansible-tutorial" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-setup.html">1. Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#ansible">Setup Ansible</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#downloadtutorial">Get Tutorial Sources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#preparingkeys">Preparing SSH keys</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#bootingservers">Booting Servers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-getting-started.html">2. Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting-started.html#ide">Editor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting-started.html#inventory">Defining an Inventory</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting-started.html#runningansible">Running Ansible</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting-started.html#escalation">Privilege Escalation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting-started.html#playbook">Playbooks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-advanced.html">3. Templates</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-advanced.html#createtemplates">Create Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-advanced.html#ansiblevault">Securing Files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-roles.html">4. Roles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-roles.html#firstrole">First Role</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-roles.html#handlers">Handlers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-roles.html#sharingroles">Sharing Roles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-roles.html#ansiblegalaxy">Ansible Galaxy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="99-vagrant.html">Vagrant</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Ansible Tutorial</a></li>
    <li>Appendix</li>
    <li><a href="99-vagrant.html">Vagrant</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/ansible-tutorial/edit/master/documentation/modules/ROOT/pages/99-vagrant.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Vagrant</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you&#8217;ll learn:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Installing Oracle VM VirtualBox and Vagrant</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Boot up Virtual Machines using Vagrant</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_host_and_guest_machines"><a class="anchor" href="#_host_and_guest_machines"></a>Host and Guest machines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using Virtual Machines there are two important concepts you need to be aware of, that is the <strong>guest</strong> and the <strong>host</strong> machine.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Host</dt>
<dd>
<p>It&#8217;s the physical machine where you install the operative system that managesthe computer. In thescope of this tutorial, it&#8217;s your machine.</p>
</dd>
<dt class="hdlist1">Guest</dt>
<dd>
<p>It&#8217;s the virtual machine that is installed, executed and hosted on the host physical machine.</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/hg.png" alt="hg">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_oracle_vm_virtual_box"><a class="anchor" href="#_oracle_vm_virtual_box"></a>Oracle VM Virtual Box</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.virtualbox.org/">Oracle VM VirtualBox</a> is a type-2 hypervisor for x86 virtualization used in order to run virtual machines, on the local computer.</p>
</div>
<div class="paragraph">
<p>With VirtualBox can load multiple guest OSes under a single host operating-system (host OS).
Each guest can be started, paused and stopped independently within its own virtual machine.</p>
</div>
<div class="paragraph">
<p>To install VirtualBox, go to <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">Virtual Box Download Page</a>, select your operative system package, and install it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vb.png" alt="vb">
</div>
</div>
<div class="paragraph">
<p>When installed, you don&#8217;t need to start it, Vagrant will do it for you.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vagrant"><a class="anchor" href="#_vagrant"></a>Vagrant</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.vagrantup.com/">Vagrant</a> is an open-source software product for building and maintaining portable virtual software development environments.</p>
</div>
<div class="paragraph">
<p>To install VirtualBox, go to <a href="https://developer.hashicorp.com/vagrant/downloads" target="_blank" rel="noopener">Vagrant Download Page</a>, select your operative system package, and install it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vagrant.png" alt="vagrant">
</div>
</div>
<div class="paragraph">
<p>Open a new terminal and run the following command to validate that has been installed correctly:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant --version</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">Vagrant 2.3.4</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_vagrantfile"><a class="anchor" href="#_vagrantfile"></a>Vagrantfile</h3>
<div class="paragraph">
<p>To define the virtual machines, Vagrant defines a <code>Vagrantfile</code> to configure the virtual machines, its network configuration, or the required resources.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s create a new file named <code>Vagrantfile</code> configuring two virtual machines (<code>staging</code>, <code>prod</code>) from a Fedora box, creating a public network to access the guest machine from the host machine:</p>
</div>
<div class="listingblock console-input">
<div class="title">Vagrantfile</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure("2") do |config|

  <i class="conum" data-value="1"></i><b>(1)</b>
  config.vm.define "staging" do |staging|
    <i class="conum" data-value="2"></i><b>(2)</b>
    staging.vm.box = "fedora/37-cloud-base"
    staging.vm.box_version = "37.20221105.0"
    <i class="conum" data-value="3"></i><b>(3)</b>
    staging.ssh.password="vagrant"
    <i class="conum" data-value="4"></i><b>(4)</b>
    staging.vm.network "public_network", use_dhcp_assigned_default_route: true
    staging.ssh.forward_agent = true
    <i class="conum" data-value="5"></i><b>(5)</b>
    staging.vm.provision "shell", inline: "ip -4 -o a"
  end

  config.vm.define "prod" do |prod|
    prod.vm.box = "fedora/37-cloud-base"
    prod.vm.box_version = "37.20221105.0"
    prod.ssh.password="vagrant"
    prod.vm.network "public_network", use_dhcp_assigned_default_route: true
    prod.ssh.forward_agent = true
    prod.vm.provision "shell", inline: "ip -4 -o a"
  end

  <i class="conum" data-value="6"></i><b>(6)</b>
  config.vm.provider "virtualbox" do |vb|
    vb.memory = "1024"
  end
end</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Defines the <code>staging</code> machine</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Sets Fedora box</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Sets password for SSH connection (username is <code>vagrant</code> by default)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Configures a public network between guest and host (same IP space)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Executes this shell script to get IP address</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Sets memory value for each machine</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To start these machines, run the following command at the same directory as the <code>Vagrantfile</code>:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant up</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the output should be similar as the follows.
It&#8217;s important to note that if you have more than one network adapter in your machine (i.e LAN and Wi-Fi), you&#8217;ll need to choose in which network adapter IP space should be the machine assigned with.
Selectthe one with the Internet connection.</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">Bringing machine 'staging' up with 'virtualbox' provider...
Bringing machine 'prod' up with 'virtualbox' provider...
==&gt; staging: Importing base box 'fedora/37-cloud-base'...
==&gt; staging: Matching MAC address for NAT networking...
==&gt; staging: Checking if box 'fedora/37-cloud-base' version '37.20221105.0' is up to date...
==&gt; staging: Setting the name of the VM: vagrant_staging_1677076653292_56104
==&gt; staging: Clearing any previously set network interfaces...
==&gt; staging: Available bridged network interfaces: <i class="conum" data-value="1"></i><b>(1)</b>
1) en0: Wi-Fi (AirPort)
2) en2: Thunderbolt 2
3) en1: Thunderbolt 1
4) bridge0
5) p2p0
6) awdl0
7) llw0
==&gt; staging: When choosing an interface, it is usually the one that is
==&gt; staging: being used to connect to the internet.
==&gt; staging:
    staging: Which interface should the network bridge to? 1
==&gt; staging: Preparing network interfaces based on configuration...
    staging: Adapter 1: nat
    staging: Adapter 2: bridged
==&gt; staging: Forwarding ports...
    staging: 22 (guest) =&gt; 2222 (host) (adapter 1)
==&gt; staging: Running 'pre-boot' VM customizations...
==&gt; staging: Booting VM...
==&gt; staging: Waiting for machine to boot. This may take a few minutes...
    staging: SSH address: 127.0.0.1:2222
    staging: SSH username: vagrant
    staging: SSH auth method: password
    staging:
    staging: Inserting generated public key within guest...
    staging: Removing insecure key from the guest if it's present...
    staging: Key inserted! Disconnecting and reconnecting using new SSH key...
==&gt; staging: Machine booted and ready!
==&gt; staging: Checking for guest additions in VM...
    staging: The guest additions on this VM do not match the installed version of
    staging: VirtualBox! In most cases this is fine, but in rare cases it can
    staging: prevent things such as shared folders from working properly. If you see
    staging: shared folder errors, please make sure the guest additions within the
    staging: virtual machine match the version of VirtualBox you have installed on
    staging: your host and reload your VM.
    staging:
    staging: Guest Additions Version: 6.0.0 r127566
    staging: VirtualBox Version: 6.1
==&gt; staging: Configuring and enabling network interfaces...
==&gt; staging: Rsyncing folder: /Users/asotobu/git/ansible-tutorial/apps/vagrant/ =&gt; /vagrant
==&gt; staging: Running provisioner: shell...
    staging: Running: inline script <i class="conum" data-value="2"></i><b>(2)</b>
    staging: 1: lo    inet 127.0.0.1/8 scope host lo\       valid_lft forever preferred_lft forever
    staging: 2: eth0    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute eth0\       valid_lft 86398sec preferred_lft 86398sec
    staging: 3: eth1    inet 192.168.1.92/24 brd 192.168.1.255 scope global dynamic noprefixroute eth1\       valid_lft 43198sec preferred_lft 43198sec
==&gt; prod: Importing base box 'fedora/37-cloud-base'...
==&gt; prod: Matching MAC address for NAT networking...
==&gt; prod: Checking if box 'fedora/37-cloud-base' version '37.20221105.0' is up to date...
==&gt; prod: Setting the name of the VM: vagrant_prod_1677076756188_18776
==&gt; prod: Fixed port collision for 22 =&gt; 2222. Now on port 2200.
==&gt; prod: Clearing any previously set network interfaces...
==&gt; prod: Available bridged network interfaces:
1) en0: Wi-Fi (AirPort)
2) en2: Thunderbolt 2
3) en1: Thunderbolt 1
4) bridge0
5) p2p0
6) awdl0
7) llw0
==&gt; prod: When choosing an interface, it is usually the one that is
==&gt; prod: being used to connect to the internet.
==&gt; prod:
    prod: Which interface should the network bridge to? 1
==&gt; prod: Preparing network interfaces based on configuration...
    prod: Adapter 1: nat
    prod: Adapter 2: bridged
==&gt; prod: Forwarding ports...
    prod: 22 (guest) =&gt; 2200 (host) (adapter 1)
==&gt; prod: Running 'pre-boot' VM customizations...
==&gt; prod: Booting VM...
==&gt; prod: Waiting for machine to boot. This may take a few minutes...
    prod: SSH address: 127.0.0.1:2200
    prod: SSH username: vagrant
    prod: SSH auth method: password
    prod:
    prod: Inserting generated public key within guest...
    prod: Removing insecure key from the guest if it's present...
    prod: Key inserted! Disconnecting and reconnecting using new SSH key...
==&gt; prod: Machine booted and ready!
==&gt; prod: Checking for guest additions in VM...
    prod: The guest additions on this VM do not match the installed version of
    prod: VirtualBox! In most cases this is fine, but in rare cases it can
    prod: prevent things such as shared folders from working properly. If you see
    prod: shared folder errors, please make sure the guest additions within the
    prod: virtual machine match the version of VirtualBox you have installed on
    prod: your host and reload your VM.
    prod:
    prod: Guest Additions Version: 6.0.0 r127566
    prod: VirtualBox Version: 6.1
==&gt; prod: Configuring and enabling network interfaces...
==&gt; prod: Rsyncing folder: /Users/asotobu/git/ansible-tutorial/apps/vagrant/ =&gt; /vagrant
==&gt; prod: Running provisioner: shell...
    prod: Running: inline script
    prod: 1: lo    inet 127.0.0.1/8 scope host lo\       valid_lft forever preferred_lft forever
    prod: 2: eth0    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute eth0\       valid_lft 86397sec preferred_lft 86397sec
    prod: 3: eth1    inet 192.168.1.93/24 brd 192.168.1.255 scope global dynamic noprefixroute eth1\       valid_lft 43198sec preferred_lft 43198sec</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Requests for the network interface</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prints the list of assigned IPs for the machine</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>From the list of available IPs printed in the console, you need to choose the one in the same range as yor local machine.</p>
</div>
<div class="paragraph">
<p>If you are unsure which one is the valid, you only need to ping them (exclude <code>lo</code> interface of course) and the one returning succesfully is the public IP to access to the machine.</p>
</div>
<div class="paragraph">
<p>For example in my case and assuming the terminal output shown before:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ping 10.0.2.15</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">PING 10.0.2.15 (10.0.2.15): 56 data bytes
Request timeout for icmp_seq 0
Request timeout for icmp_seq 1
Request timeout for icmp_seq 2</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s not this one.
Let&#8217;s try the following one:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ping 192.168.1.93</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">PING 192.168.1.93 (192.168.1.93): 56 data bytes
64 bytes from 192.168.1.93: icmp_seq=0 ttl=64 time=0.909 ms
64 bytes from 192.168.1.93: icmp_seq=1 ttl=64 time=0.301 ms
64 bytes from 192.168.1.93: icmp_seq=2 ttl=64 time=0.279 ms
64 bytes from 192.168.1.93: icmp_seq=3 ttl=64 time=0.311 ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>There it is.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Change the IPs of the commands with the IPs printed in your terminal.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_testing_the_connection"><a class="anchor" href="#_testing_the_connection"></a>Testing the Connection</h3>
<div class="paragraph">
<p>Last step before concluding that Ansible can interact with both virtual machines, is validating the SSH connection.
Let&#8217;s connect using the previous IPs, with username <code>vagrant</code> and password <code>vagrant</code> to validate that we can login to both virtual machines.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Remember to put your IP when using SSH command.
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ssh vagrant@192.168.1.92</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">The authenticity of host '192.168.1.92 (192.168.1.92)' can't be established.
ED25519 key fingerprint is SHA256:CW3D3uc0+i77Fmcwk5Iskdrr98d70ZCrq2HUBLLwmvM.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.1.92' (ED25519) to the list of known hosts.
[vagrant@localhost ~]$</code></pre>
</div>
</div>
<div class="paragraph">
<p>And <code>exit</code> from the guest terminal.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">exit</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">logout
Connection to 192.168.1.92 closed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>And <strong>repeat</strong> the operation with the other virtual machine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clean_up"><a class="anchor" href="#_clean_up"></a>Clean Up</h3>
<div class="paragraph">
<p>When you finish the tutorial, you can stop the virtual machines using the following command:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant halt</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-terminal hljs" data-lang="terminal">==&gt; prod: Attempting graceful shutdown of VM...
==&gt; staging: Attempting graceful shutdown of VM...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case you plan to not use them anymore, run the <code>destroy</code> command.ç</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant halt</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">==&gt; prod: Attempting graceful shutdown of VM...
==&gt; staging: Attempting graceful shutdown of VM...
❯ vagrant destroy
    prod: Are you sure you want to destroy the 'prod' VM? [y/N] y
==&gt; prod: Destroying VM and associated drives...
    staging: Are you sure you want to destroy the 'staging' VM? [y/N] y
==&gt; staging: Destroying VM and associated drives...</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="04-roles.html">4. Roles</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
